<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<link rel="stylesheet" href="/css/admin.css" />

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

<title>Admin: inserimento piatto in buffet</title>
</head>

<body>
    <div>
		<header>
			<nav class="navbar navbar-expand-lg">
               <div class="container-fluid">
                  <a class="navbar-brand" th:href="@{/admin/indexAdmin}"> HOME </a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
               </div>

               <div class="container-fluid">
                  <a class="navbar-brand" th:href="@{/admin/indexIngrediente}">INGREDIENTI</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
               </div>

               <div class="container-fluid">
                  <a class="navbar-brand" th:href="@{/admin/indexChef}">CHEF</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
               </div>

                <div class="container-fluid">
                  <a class="navbar-brand" th:href="@{/admin/indexPiatto}">PIATTI</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
               </div>

                <div class="container-fluid">
                  <a class="navbar-brand" th:href="@{/admin/indexBuffet}">BUFFET</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
               </div>

                <div class="container-fluid">
                  <a class="navbar-brand" th:href="@{/logout}">LOGOUT</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
               </div>
          </nav>
        </header>
    </div>


    <section>
    	<div class="container">
           <div class="row">
               <div class="col-lg-6 border border-success container justify-content-center card">
                   <div align="center"> <h2>INSERISCI I DATI DEL PIATTO</h2>   </div>
               <div class="card-body">
	               <form th:action="@{/admin/addPiatto/{id}(id=${buffet_id})}" method="POST" th:object="${piatto}">
	               	    <div th:if="${#fields.hasGlobalErrors()}">
			                <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">Errore globale</p>
		               </div>

	                    <div>
		                    <div class="mb-3">
		        	           <label class="form-label">Nome</label>
			                   <input class="form-control" id="     exampleInputEmail1" type="text"     name="username"
			                        th:field="*{nome}"
				                    placeholder="Inserisci il nome del piatto"/>
				               <div>
				                   <span th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></span>
			                   </div>

		                   </div>

		                    <div class="mb-3">
		        	           <label class="form-label">Descrizione</label>
			                  <textarea class="form-control" id="     exampleInputEmail1" type="text"     name="username"
			                  th:field="*{descrizione}"
				                     placeholder="Inserisci la descrizione del piatto"
				                     rows="3"></textarea>
				               <div>
				                   <span th:if="${#fields.hasErrors('descrizione')}" th:errors="*{descrizione}"></span>
			                   </div>
		                    </div>

							<div>
							<label>Ingredienti:</label>
								<div>
									<th:block th:each="ingrediente: ${tuttiGliIngredienti}">
										<input 	type="checkbox" 
										th:field="*{ingredienti}"
										th:text="${ingrediente.nome}" 
										th:value="${ingrediente.id}">
									</th:block>
								</div>
								<div>
								   <span th:if="${#fields.hasErrors('ingredienti')}"
									th:errors="*{ingredienti}"></span>
								</div>
							</div>

		                    <div>
			                <button type="submit" class="btn btn-primary">Conferma e torna a tutti i piatti del buffet</button>
		                    </div>
 
		                </div>
	                </form>
	            </div>
	          </div>
        </div>
   </section>
</body>
</html>